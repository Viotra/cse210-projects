Budgeting program

It always seems difficult to come up with a budget. It would be nice if there was something that would allow me to put all of my expenses into and have it calculate how much I should be spending. The budget program should be able to not only take in what my money is going toward, but help me to categorize each item into areas such as bills, tithing, entertainment, groceries, etc. After items have been categorized and priced, I should be able to put in my total monthly income to show how much money is coming in vs out and show what percentage of my money is being used in each category. Once I'm able to visualize it, I should be able to go into a planning phase on how much I should be spending in each category to help with saving for times of emergency. Once the budget is set, I should be able to track all of my spending going forward to see how closely I am following my budget. The program should be able to warn me if I'm spending too much or even getting close to hitting my limits in each category. Once I have filled up the program with 30 days worth of information, it should give me a way to view the results of my month in order to review and better my budget/spending.